{"html":"<div id='·id·Modal'></div>\n<div class='w3-half' style='height:50%'>\n    <div class='w3-container w3-deep-orange'>HTML</div>\n    <div id='·id·PEHTMLeditor' style='height:calc(100% - 23px)'></div>\n</div>\n<div class='w3-half' style='height:50%'>\n    <div class='w3-container w3-teal'>JavaScript</div>\n    <div id='·id·PEJSeditor' style='height:calc(100% - 23px)'></div>\n</div>\n<div class='w3-half' style='height:50%'>\n    <div class='w3-container w3-blue'>CSS</div>\n    <div id='·id·PECSSeditor' style='height:calc(100% - 23px)'></div>\n</div>\n<div class='w3-half' style='height:50%'>\n    <div class='w3-container w3-brown'>PlugIn</div>\n    <input id='·id·Copyright' placeholder='·copyright·' class='w3-block w3-input w3-left-align'>\n    <input id='·id·Uses' placeholder='·uses·' class='w3-input w3-block w3-left-align'>\n</div>","js":"class PlugInClient extends KonektiClient{\n\tconstructor( id, modal, url, user ){\n\t    super(id)\n\t\tthis.id = id\n\t\tthis.user = user\n\t\tthis.url = url\n\tthis.modal=modal\n\t}\n\n\tannotation(id,anot){}\n\n\tcompose(){\n\t\tvar htmleditor = this.id+'PEHTMLeditor'\n\t\tvar jseditor = this.id+'PEJSeditor'\n\t\tvar csseditor = this.id+'PECSSeditor'\n\t\tvar copyright = this.id+'Copyright'\n\t\tvar uses = this.id+'Uses'\n\t\tvar obj = {}\n\t\tvar txt = Konekti.client[csseditor].getText()\n\t\tif( txt.length>0 ) obj.css = txt\n\t\ttxt = Konekti.client[htmleditor].getText()\n\t\tif( txt.length>0 ) obj.html = txt\n\t\ttxt = Konekti.client[jseditor].getText()\n\t\tif( txt.length>0 ) obj.js = txt\n\t\ttxt = Konekti.util.vc(copyright).value\n\t\tif( txt != null && txt.length > 0 ) obj.copyright = txt\n\t\ttxt = Konekti.util.vc(uses).value\n\t\tif( txt != null && txt.length > 0) obj.uses = txt.split(',')\n\t\n\t\treturn JSON.stringify(obj)\n\t}\n\n\tdecompose( txt ){\n\t\tvar htmleditor = this.id+'PEHTMLeditor'\n\t\tvar jseditor = this.id+'PEJSeditor'\n\t\tvar csseditor = this.id+'PECSSeditor'\n\t\tvar copyright = this.id+'Copyright'\n\t\tvar uses = this.id+'Uses'\n\n\t\tvar obj = Konekti.util.json(txt)\n\t\tif( obj != null ){\n\t\t\tif( typeof obj.css!=\"undefined\" ) Konekti.client[csseditor].setText(obj.css)\n\t\t\tif( typeof obj.html!=\"undefined\" ) Konekti.client[htmleditor].setText(obj.html)\n\t\t\tif( typeof obj.js!=\"undefined\" ) Konekti.client[jseditor].setText(obj.js)\n\t\t\tif( typeof obj.copyright != \"undefined\") Konekti.util.vc(copyright).value = obj.copyright\n\t\t\tif( typeof obj.uses != \"undefined\" && obj.uses.length>0){\n\t\t\t    var u = obj.uses[0]\n\t\t\t    for( var i=1; i<obj.uses.length; i++) u += ','+obj.uses[i]\n\t\t\t    Konekti.util.vc(uses).value = u\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcloseModal(){\n        Konekti.plugin.modal.close(this.modal)\n\t}\n\t\n\tfile(){\n\t\tKonekti.plugin.modal.cloudfilemanager(this.modal,this.id,this.url)\n\t}\n\t\n\tdelFile(file){\n\t\t// if( !file.endsWith('/') ) this.closeModal()\n\t}\n\t\n\treadFile(file){\n\t    this.closeModal()\n\t\tthis.decompose(Konekti.util.base64ToString(file))\n    }\n\t\n\tgetFile(file){             \n\t\treturn Konekti.util.stringToBase64(this.compose())\n\t}\n    \n\tstoreFile(file){\n        this.closeModal()\n\t}\n}\n\nKonekti.plugin.plugineditor.connect = function( dictionary ){\n\tvar id = dictionary.id\n\tvar client = id\n\tdictionary.client = client\n\tvar modal\n\tif(typeof dictionary.modal === 'string' ) modal = dictionary.modal\n\telse{\n\t\tKonekti.plugin.modal.replaceWith(dictionary.modal)\n\t\tmodal = id+'Modal'\n\t}\n\n    new PlugInClient(client, modal, dictionary.url, Konekti.client[dictionary.user].user)\n\n\tvar nav = dictionary.navbarid\n\tKonekti.plugin.navbar.replaceWith(\n\t\t{\n\t\t\t\"id\":nav,\n\t\t\t\"client\":client,\n\t\t\t\"color\":\"w3-blue-grey\",\n\t\t\t\"search\":false,\n\t\t\t\"btn\":[\t{\"id\":\"file\",\"tooltip\":dictionary.file, \"fa\":\"fa fa-cloud\"}]\n\t\t}\n\t)\n\n\tvar editor = id+'PEHTMLeditor'\n\tKonekti.plugin.ace.replaceWith(\n\t\t{ \n\t\t\t\"id\":editor,\n\t\t\t\"height\":\"calc(50% - 23px)\",\n\t\t\t\"client\":client,\n\t\t\t\"theme\":\"chrome\", \n\t\t\t\"mode\":\"html\"\n\t\t}\n\t)\n\n\teditor = id+'PEJSeditor'\n\tKonekti.plugin.ace.replaceWith(\n\t\t{ \n\t\t\t\"id\":editor,\n\t\t\t\"height\":\"calc(50% - 23px)\",\n\t\t\t\"client\":client,\n\t\t\t\"theme\":\"chrome\", \n\t\t\t\"mode\":\"javascript\"\n\t\t}\n\t)\n\n\teditor = id+'PECSSeditor'\n\tKonekti.plugin.ace.replaceWith(\n\t\t{ \n\t\t\t\"id\":editor,\n\t\t\t\"height\":\"calc(50% - 23px)\",\n\t\t\t\"client\":client,\n\t\t\t\"theme\":\"chrome\", \n\t\t\t\"mode\":\"css\"\n\t\t}\n\t)\n}\n","copyright":"Copyright (c) 2019 by Jonatan Gomez-Perdomo. All rights reserved. See <A HREF='https://github.com/jgomezpe/konekti'>License</A>.","uses":["navbar","ace"]}