{	"copyright":"Copyright (c) 2019 by Jonatan Gomez-Perdomo. All rights reserved. See <A HREF='https://github.com/jgomezpe/konekti'>License</A>.",
	"uses":["captcha"],
"html":"<div id='· id·' class='w3-dropdown-hover'>\n <button id='·id·Btn' class='w3-button w3-left-align w3-xlarge' ><i class='fa fa-user'></i></button>\n <div id='·id·BtnContent' class='w3-dropdown-content w3-border'>\n  <input id='·id·Id' placeholder='·user·' class='w3-block w3-input w3-left-align w3-xlarge'>\n  <input id='·id·Pwd' type='password' placeholder='·password·' class='w3-input w3-block w3-left-align w3-xlarge'>\n  <button id='·id·LogIn' class='w3-button w3-block w3-left-align w3-xlarge' onclick='window.plugin.user.login(\"· id·\")'><i class='fa fa-user-circle-o'></i> ·Log In·</button>\n  <input id='·id·Pwd2' type='password' placeholder='·retype password·' class='w3-input w3-block w3-left-align w3-xlarge'>\n  <button id='·id·Register' class='w3-button w3-block w3-left-align w3-xlarge' onclick='window.plugin.user.register(\"· id·\")'><i class='fa fa-user-plus'></i> ·Register·</button>\n  <div id='·id·Msg' class='w3-block'></div>\n </div>\n</div>","js":"Konekti.plugin.user.toogle = function( id ){\n\tvar node = Konekti.util.vc(id+'BtnContent')\n\tif (node.style.display === \"none\"){\n\t\tnode.style.display = \"\"\n\t\tnode = Konekti.util.vc(id+'Btn')\n\t\tnode.innerHTML = '<i class=\"fa fa-user\"></i>'\n\t\tnode.onclick=null\n\t}else{\n\t\tnode.style.display = \"none\";\n\t\tnode = Konekti.util.vc(id+'Btn')\n\t\tnode.innerHTML = '<i class=\"fa fa-power-off\"></i>'\n\t\tnode.onclick= function (){ Konekti.plugin.user.logout(id) }\n\t}\n}\n\nKonekti.plugin.user.connect = function( dictionary ){\n\tvar id = dictionary.id\n\tvar node = Konekti.util.vc(id)\n\tif( dictionary.captcha != null ) window.plugin.captcha.appendAsChild( id+'BtnContent',  dictionary.captcha )\n}\n\nKonekti.plugin.user.login = function( id ){\n\tfunction connect( response ){\n\t\tvar json = Konekti.util.json( response )\n\t\tif( json.validUser ){\n\t\t\tKonekti.plugin.user.toogle(id)\n\t\t\tif( json.command != null ) eval( json.command )\n\t\t}else Konekti.util.vc(id+'Msg').innerHTML = json.errorMessage\n\t}\n\tKonekti.plugin.user.login( connect, Konekti.util.vc(id+'Id').value, Konekti.util.vc(id+'Pwd').value )\n}\n\nKonekti.plugin.user.register = function( id ){\n\tif( Konekti.util.vc(id+'Pwd').value != Konekti.util.vc(id+'Pwd2').value ){\n\t\tKonekti.util.vc(id+'Msg').innerHTML = \"Retyped Password does not match\"\n\t\treturn\n\t}\n\tfunction connect( response ){\n\t\tvar json = Konekti.util.json( response )\n\t\tif( json.validUser ){\n\t\t\tKonekti.plugin.user.toogle(id)\n\t\t\tif( json.command != null ) eval( json.command )\n\t\t}else Konekti.util.vc(id+'Msg').innerHTML = json.errorMessage\n\t}\n\tKonekti.plugin.user.login( connect, Konekti.util.vc(id+'Id').value, Konekti.util.vc(id+'Pwd').value )\n}\n\nKonekti.plugin.user.logout = function( id ){ this.toogle(id) }"}
